
<!--bootstrap container-->
<!--id: recipe will change the inner Html after submit recipe-->
<div class="container main-border center">

  <h1 class="header">Add a New Recipe</h1>

  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 secondary-border center">
      <div id="recipe">
        <div id="confirm">
          <form #addTitle="ngForm" (ngSubmit)="AddRecipe(addTitle.form.value.title); ConfirmTitle(addTitle.form.value.title)">
            <h2>Title </h2><input type="text" name="title" placeholder="Title of Recipe" ngModel />
            <br />
            <input type="submit" class="btn btn-outline-info button-space" value="Create New Recipe" />
          </form>
        </div>
      </div>
    </div>


    <div class="row mx-auto center">
      <div class="col">
        <div *ngIf="iList.length !== 0; else elseBlock">
          <div class="secondary-border center">
            <h3>Ingredient List</h3>
            <h5 *ngFor="let in of iList; index as i">
              {{in.amount}} {{in.unit}} - {{in.item}} <button class="btn btn-outline-light button-space" (click)="RemoveIngredient(i)">x</button>
            </h5>
          </div>
        </div>
        <ng-template #elseBlock>
          <div>

          </div>
        </ng-template>
      </div>
    </div>
    

    <!-- Search Indregients -- return data from API -->
    <div class="row mx-auto center">
      <div class="col-lg-6 col-md-6 col-sm-12 secondary-border">
        <h2>Search Ingredients</h2>
        <form id="firstIng" #searchFoodForm="ngForm" (ngSubmit)="SearchIngredient(searchFoodForm.form.value.food)">
          <input type="search" name="food" placeholder="Search for ingredient" ngModel />
          <input type="submit" class="btn btn-outline-info button-space" value="Find Ingredient" />
        </form>
        <div *ngIf="ing != null">
          <form #addIngredientForm="ngForm" (ngSubmit)="AddToIngArray(addIngredientForm)">
            <input type="hidden" name="food" value="{{ing.name}}" placeholder="{{ing.name}}" ngModel />
            <input type="hidden" name="recipeID" value="{{ing.id}}" ngModel />
            <input class="button-space" style="width: 50px" type="number" min="0" placeholder="1" name="amount" ngModel />
            <select name="unit" ngModel>
              <option disabled selected>unit</option>
              <option value="g">g</option>
              <option value="oz">oz</option>
              <option value="tsp">tsp</option>
              <option value="tbsp">tbsp</option>
              <option value="cup">cup</option>
              <option value="lb">lb</option>
            </select>
            <input type="submit" class="btn btn-outline-info button-space" value="Add Ingredient" />
          </form>
        </div>
      </div>

      <!--let user add ingredient-->
      <div class="col-lg-6 col-md-6 col-sm-12 center secondary-border">
        <div>
          <h3>add your own ingredients</h3>
          <p>*Nutritional information for submitted ingredients may not be accurate*</p>
          <div class="center"></div>
          <form class="form-horizontal" #addUserIngredientForm="ngForm" (ngSubmit)="AddUserIngredient(addUserIngredientForm);">
            <label class="control-label">Name</label>
            <!--name of the food-->
            <input class="input-size" type="text" name="userIng" ngModel />
            <br />
            <!--amount of the food-->
            <label class="control-label">Amount:</label>
            <input class="input-size" type="number" min="0" name="amount" ngModel />
            <!--select the measurement of the food-->
            <select name="unit" ngModel>
              <option value="g">g</option>
              <option value="oz">oz</option>
              <option value="tsp">tsp</option>
              <option value="tbsp">tbsp</option>
              <option value="cup">cup</option>
              <option value="lb">lb</option>
            </select>
            <br />
            <!-- Create a Flag/Message to let the user know the nutritional information is not accurate -->
            <!--Calories / Carbs / Fats / Protiens-->
            <label class="control-label">Calories</label>
            <input class="input-size" type="number" min="0" name="calories" value="0" placeholder="calories" ngModel />
            <br />
            <label class="control-label">Carb</label>
            <input class="input-size" type="number" min="0" name="carbs" value="0" placeholder="0" ngModel />
            <br />
            <label class="control-label">Fats</label>
            <input class="input-size" type="number" min="0" name="fats" value="0" placeholder="0" ngModel />
            <br />
            <label class="control-label">Protein</label>
            <input class="input-size" type="number" min="0" name="protein" value="0" placeholder="0" ngModel />
            <br />
            <input type="submit" class="btn btn-outline-info button-space" />
          </form>
          <br />
        </div>
      </div>
    </div>
  </div>

    <!--Add Directions-->
    <!--Add Image-->
    <!-- Update form and pass completed recipe to backend -->
    <div class="row">
      <div class="col-lg secondary-border">
        <h2>Directions:</h2>

        <form class="form-horizontal" #desForm="ngForm" (ngSubmit)="AddString(desForm)">
          <input class="input-size-directions" type="text" name="step1" placeholder="step1" ngModel />
          <br />
          <input class="input-size-directions" type="text" name="step2" placeholder="step2" ngModel />
          <br />
          <input class="input-size-directions" type="text" name="step3" placeholder="step3" ngModel />
          <br />

          <div *ngIf="ste4 == false">
            <button class="btn btn-outline-info button-space" (click)="step4()">Add step</button>
          </div>
          <div *ngIf="ste4 != false">
            <input class="input-size-directions" type="text" name="step4" placeholder="step4" ngModel />
          </div>
          <div *ngIf="ste4 != false && ste5 == false">
            <button class="btn btn-outline-info button-space" (click)="step5()">Add step</button>
          </div>

          <div *ngIf="ste5 != false">
            <input class="input-size-directions" type="text" name="step5" placeholder="step5" ngModel />
          </div>
          <div *ngIf="ste5 != false && ste6 == false">
            <button class="btn btn-outline-info button-space" (click)="step6()">Add step</button>
          </div>

          <div *ngIf="ste6 != false">
            <input class="input-size-directions" type="text" name="step6" placeholder="step6" ngModel />
          </div>
          <div *ngIf="ste6 != false && ste7 == false">
            <button class="btn btn-outline-info button-space" (click)="step7()">Add step</button>
          </div>

          <div *ngIf="ste7 != false">
            <input class="input-size-directions" type="text" name="step7" placeholder="step7" ngModel />
          </div>
          <div *ngIf="ste7 != false && ste8== false">
            <button class="btn btn-outline-info button-space" (click)="step8()">Add step</button>
          </div>

          <div *ngIf="ste8 != false">
            <input class="input-size-directions" type="text" name="step8" placeholder="step8" ngModel />
          </div>
          <div *ngIf="ste8 != false && ste9 == false">
            <button class="btn btn-outline-info button-space" (click)="step9()">Add step</button>
          </div>

          <div *ngIf="ste9 != false">
            <input class="input-size-directions" type="text" name="step9" placeholder="step9" ngModel />
          </div>
          <div *ngIf="ste9 != false && ste10 == false">
            <button class="btn btn-outline-info button-space" (click)="step10()">Add step</button>
          </div>

          <div *ngIf="ste10 != false">
            <input class="input-size-directions" type="text" name="step10" placeholder="step10" ngModel />
          </div>
          <input class="btn btn-outline-info btn-sm button-space" type="submit" value="Submit Directions" />
        </form>
        <!--end directions-->
        <hr />
        <!--Add a Photo to recipe-->
        <form #directionsForm="ngForm" (ngSubmit)="UpdateRecipe(directionsForm); AddIngredientsToDB(); ConfirmRecipe()" id="dirform" enctype="multipart/form-data">
          <h3>Servings</h3>
          Servings: <input type="number" name="servings" ngModel /><br />

          <h3>Add A Photo</h3>
          <input type="file" (change)="imageSelected($event.target.files[0])" />


          <br>
          <input class="btn btn-outline-info button-space" type="submit" value="Add Recipe" />
        </form>
      </div>
    </div>
  </div>









